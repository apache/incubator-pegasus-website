<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pegasus | Partition Split</title>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" href="/assets/images/favicon.ico">
    <link rel="stylesheet" href="/assets/css/utilities.min.css">
    <link rel="stylesheet" href="/assets/css/docsearch.v3.css">
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/all.min.js"></script>
    <script src="/assets/js/docsearch.v3.js"></script>
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Partition Split | Pegasus</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Partition Split" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Feature Overview In Pegasus, the number of partitions in a table is specified at creation time and does not change dynamically. However, as the amount of data grows, some partitions may become too large, which can lead to degraded read and write performance. Therefore, it is necessary to manually increase the number of partitions to ensure service quality." />
<meta property="og:description" content="Feature Overview In Pegasus, the number of partitions in a table is specified at creation time and does not change dynamically. However, as the amount of data grows, some partitions may become too large, which can lead to degraded read and write performance. Therefore, it is necessary to manually increase the number of partitions to ensure service quality." />
<meta property="og:site_name" content="Pegasus" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-04-17T04:06:09+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Partition Split" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-04-17T04:06:09+00:00","datePublished":"2025-04-17T04:06:09+00:00","description":"Feature Overview In Pegasus, the number of partitions in a table is specified at creation time and does not change dynamically. However, as the amount of data grows, some partitions may become too large, which can lead to degraded read and write performance. Therefore, it is necessary to manually increase the number of partitions to ensure service quality.","headline":"Partition Split","mainEntityOfPage":{"@type":"WebPage","@id":"/administration/partition-split"},"url":"/administration/partition-split"}</script>
<!-- End Jekyll SEO tag -->

</head>


<body>
    <div class="dashboard is-full-height">
        <!-- left panel -->
        <div class="dashboard-panel is-medium is-hidden-mobile pl-0">
            <div class="dashboard-panel-header has-text-centered">
                <a href="/">
                    <img src="/assets/images/pegasus-logo-inv.png" style="width: 80%;">
                </a>
                
            </div>
            <div class="dashboard-panel-main is-scrollable pl-6">
                

<aside class="menu">
    
    <p class="menu-label">The Pegasus documentation</p>
    <ul class="menu-list">
        
        <li>
            <a href="/docs/downloads"
                class="">
                Downloads
            </a>
        </li>
        
    </ul>
    
    <p class="menu-label">Building Pegasus</p>
    <ul class="menu-list">
        
        <li>
            <a href="/docs/build/compile-by-docker"
                class="">
                Compile by docker (recommended)
            </a>
        </li>
        
        <li>
            <a href="/docs/build/compile-from-source"
                class="">
                Compile from source
            </a>
        </li>
        
    </ul>
    
    <p class="menu-label">Client Libs</p>
    <ul class="menu-list">
        
        <li>
            <a href="/clients/java-client"
                class="">
                Java Client
            </a>
        </li>
        
        <li>
            <a href="/clients/cpp-client"
                class="">
                C++ Client
            </a>
        </li>
        
        <li>
            <a href="https://github.com/apache/incubator-pegasus/tree/master/go-client"
                class="">
                Golang Client
            </a>
        </li>
        
        <li>
            <a href="/clients/python-client"
                class="">
                Python Client
            </a>
        </li>
        
        <li>
            <a href="/clients/node-client"
                class="">
                NodeJS Client
            </a>
        </li>
        
        <li>
            <a href="/clients/scala-client"
                class="">
                Scala Client
            </a>
        </li>
        
    </ul>
    
    <p class="menu-label">Tools</p>
    <ul class="menu-list">
        
        <li>
            <a href="/docs/tools/shell"
                class="">
                Pegasus Shell
            </a>
        </li>
        
        <li>
            <a href="https://github.com/pegasus-kv/admin-cli"
                class="">
                Admin CLI
            </a>
        </li>
        
        <li>
            <a href="https://github.com/pegasus-kv/pegic"
                class="">
                Pegasus data access CLI
            </a>
        </li>
        
    </ul>
    
    <p class="menu-label">API</p>
    <ul class="menu-list">
        
        <li>
            <a href="/api/ttl"
                class="">
                TTL(Time To Live)
            </a>
        </li>
        
        <li>
            <a href="/api/single-atomic"
                class="">
                Single-Atomic Operations
            </a>
        </li>
        
        <li>
            <a href="/api/redis"
                class="">
                Redis Adaption
            </a>
        </li>
        
        <li>
            <a href="/api/geo"
                class="">
                GEO Support
            </a>
        </li>
        
        <li>
            <a href="/api/http"
                class="">
                HTTP API
            </a>
        </li>
        
    </ul>
    
    <p class="menu-label">Admin</p>
    <ul class="menu-list">
        
        <li>
            <a href="/administration/deployment"
                class="">
                Deployment
            </a>
        </li>
        
        <li>
            <a href="/administration/config"
                class="">
                Configurations
            </a>
        </li>
        
        <li>
            <a href="/administration/rebalance"
                class="">
                Rebalance
            </a>
        </li>
        
        <li>
            <a href="/administration/monitoring"
                class="">
                Monitoring
            </a>
        </li>
        
        <li>
            <a href="/administration/rolling-update"
                class="">
                Rolling Restart and Upgrade
            </a>
        </li>
        
        <li>
            <a href="/administration/scale-in-out"
                class="">
                Scale-in and Scale-out
            </a>
        </li>
        
        <li>
            <a href="/administration/resource-management"
                class="">
                Resource Management
            </a>
        </li>
        
        <li>
            <a href="/administration/cold-backup"
                class="">
                Cold Backup
            </a>
        </li>
        
        <li>
            <a href="/administration/meta-recovery"
                class="">
                Metadata Recovery
            </a>
        </li>
        
        <li>
            <a href="/administration/replica-recovery"
                class="">
                Replica Data Recovery
            </a>
        </li>
        
        <li>
            <a href="/administration/zk-migration"
                class="">
                Zookeeper Migration
            </a>
        </li>
        
        <li>
            <a href="/administration/table-migration"
                class="">
                Table Migration
            </a>
        </li>
        
        <li>
            <a href="/administration/table-soft-delete"
                class="">
                Table Soft-Delete
            </a>
        </li>
        
        <li>
            <a href="/administration/table-env"
                class="">
                Table Environment Variables
            </a>
        </li>
        
        <li>
            <a href="/administration/remote-commands"
                class="">
                Remote Command
            </a>
        </li>
        
        <li>
            <a href="/administration/partition-split"
                class="is-active">
                Partition-Split
            </a>
        </li>
        
        <li>
            <a href="/administration/duplication"
                class="">
                Duplication
            </a>
        </li>
        
        <li>
            <a href="/administration/compression"
                class="">
                Data Compression
            </a>
        </li>
        
        <li>
            <a href="/administration/throttling"
                class="">
                Throttling
            </a>
        </li>
        
        <li>
            <a href="/administration/experiences"
                class="">
                Experiences
            </a>
        </li>
        
        <li>
            <a href="/administration/manual-compact"
                class="">
                Manual Compact
            </a>
        </li>
        
        <li>
            <a href="/administration/usage-scenario"
                class="">
                Usage Scenario
            </a>
        </li>
        
        <li>
            <a href="/administration/bad-disk"
                class="">
                Bad Disk Repair
            </a>
        </li>
        
        <li>
            <a href="/administration/whitelist"
                class="">
                Replica Server Whitelist
            </a>
        </li>
        
        <li>
            <a href="/administration/backup-request"
                class="">
                Backup Request
            </a>
        </li>
        
        <li>
            <a href="/administration/hotspot-detection"
                class="">
                Hotspot Detection
            </a>
        </li>
        
    </ul>
    
</aside>
            </div>
        </div>

        <!-- main section -->
        <div class="dashboard-main is-scrollable">
            <nav class="navbar is-hidden-desktop">
    <div class="navbar-brand">
        <a href="/" class="navbar-item">
            <!-- Pegasus Icon -->
            <img src="/assets/images/pegasus-square.png">
        </a>
        <div class="navbar-item">
            

<!--A simple language switch button that only supports zh and en.-->
<!--IF its language is zh, then switches to en.-->

<a class="button is-light is-outlined is-inverted" href="/zh/administration/partition-split"><strong>中</strong></a>

        </div>
        <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
            <!-- Appears in mobile mode only -->
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
    </div>
    <div class="navbar-menu" id="navMenu">
        <div class="navbar-end">
            
            <!--dropdown-->
            <div class="navbar-item has-dropdown is-hoverable">
                <a href=""
                    class="navbar-link ">
                    <span>
                        The Pegasus documentation
                    </span>
                </a>
                <div class="navbar-dropdown">
                    
                    <a href="/docs/downloads"
                        class="navbar-item ">
                        Downloads
                    </a>
                    
                </div>
            </div>
            
            <!--dropdown-->
            <div class="navbar-item has-dropdown is-hoverable">
                <a href=""
                    class="navbar-link ">
                    <span>
                        Building Pegasus
                    </span>
                </a>
                <div class="navbar-dropdown">
                    
                    <a href="/docs/build/compile-by-docker"
                        class="navbar-item ">
                        Compile by docker (recommended)
                    </a>
                    
                    <a href="/docs/build/compile-from-source"
                        class="navbar-item ">
                        Compile from source
                    </a>
                    
                </div>
            </div>
            
            <!--dropdown-->
            <div class="navbar-item has-dropdown is-hoverable">
                <a href=""
                    class="navbar-link ">
                    <span>
                        Client Libs
                    </span>
                </a>
                <div class="navbar-dropdown">
                    
                    <a href="/clients/java-client"
                        class="navbar-item ">
                        Java Client
                    </a>
                    
                    <a href="/clients/cpp-client"
                        class="navbar-item ">
                        C++ Client
                    </a>
                    
                    <a href="https://github.com/apache/incubator-pegasus/tree/master/go-client"
                        class="navbar-item ">
                        Golang Client
                    </a>
                    
                    <a href="/clients/python-client"
                        class="navbar-item ">
                        Python Client
                    </a>
                    
                    <a href="/clients/node-client"
                        class="navbar-item ">
                        NodeJS Client
                    </a>
                    
                    <a href="/clients/scala-client"
                        class="navbar-item ">
                        Scala Client
                    </a>
                    
                </div>
            </div>
            
            <!--dropdown-->
            <div class="navbar-item has-dropdown is-hoverable">
                <a href=""
                    class="navbar-link ">
                    <span>
                        Tools
                    </span>
                </a>
                <div class="navbar-dropdown">
                    
                    <a href="/docs/tools/shell"
                        class="navbar-item ">
                        Pegasus Shell
                    </a>
                    
                    <a href="https://github.com/pegasus-kv/admin-cli"
                        class="navbar-item ">
                        Admin CLI
                    </a>
                    
                    <a href="https://github.com/pegasus-kv/pegic"
                        class="navbar-item ">
                        Pegasus data access CLI
                    </a>
                    
                </div>
            </div>
            
            <!--dropdown-->
            <div class="navbar-item has-dropdown is-hoverable">
                <a href=""
                    class="navbar-link ">
                    <span>
                        API
                    </span>
                </a>
                <div class="navbar-dropdown">
                    
                    <a href="/api/ttl"
                        class="navbar-item ">
                        TTL(Time To Live)
                    </a>
                    
                    <a href="/api/single-atomic"
                        class="navbar-item ">
                        Single-Atomic Operations
                    </a>
                    
                    <a href="/api/redis"
                        class="navbar-item ">
                        Redis Adaption
                    </a>
                    
                    <a href="/api/geo"
                        class="navbar-item ">
                        GEO Support
                    </a>
                    
                    <a href="/api/http"
                        class="navbar-item ">
                        HTTP API
                    </a>
                    
                </div>
            </div>
            
            <!--dropdown-->
            <div class="navbar-item has-dropdown is-hoverable">
                <a href=""
                    class="navbar-link ">
                    <span>
                        Admin
                    </span>
                </a>
                <div class="navbar-dropdown">
                    
                    <a href="/administration/deployment"
                        class="navbar-item ">
                        Deployment
                    </a>
                    
                    <a href="/administration/config"
                        class="navbar-item ">
                        Configurations
                    </a>
                    
                    <a href="/administration/rebalance"
                        class="navbar-item ">
                        Rebalance
                    </a>
                    
                    <a href="/administration/monitoring"
                        class="navbar-item ">
                        Monitoring
                    </a>
                    
                    <a href="/administration/rolling-update"
                        class="navbar-item ">
                        Rolling Restart and Upgrade
                    </a>
                    
                    <a href="/administration/scale-in-out"
                        class="navbar-item ">
                        Scale-in and Scale-out
                    </a>
                    
                    <a href="/administration/resource-management"
                        class="navbar-item ">
                        Resource Management
                    </a>
                    
                    <a href="/administration/cold-backup"
                        class="navbar-item ">
                        Cold Backup
                    </a>
                    
                    <a href="/administration/meta-recovery"
                        class="navbar-item ">
                        Metadata Recovery
                    </a>
                    
                    <a href="/administration/replica-recovery"
                        class="navbar-item ">
                        Replica Data Recovery
                    </a>
                    
                    <a href="/administration/zk-migration"
                        class="navbar-item ">
                        Zookeeper Migration
                    </a>
                    
                    <a href="/administration/table-migration"
                        class="navbar-item ">
                        Table Migration
                    </a>
                    
                    <a href="/administration/table-soft-delete"
                        class="navbar-item ">
                        Table Soft-Delete
                    </a>
                    
                    <a href="/administration/table-env"
                        class="navbar-item ">
                        Table Environment Variables
                    </a>
                    
                    <a href="/administration/remote-commands"
                        class="navbar-item ">
                        Remote Command
                    </a>
                    
                    <a href="/administration/partition-split"
                        class="navbar-item is-active">
                        Partition-Split
                    </a>
                    
                    <a href="/administration/duplication"
                        class="navbar-item ">
                        Duplication
                    </a>
                    
                    <a href="/administration/compression"
                        class="navbar-item ">
                        Data Compression
                    </a>
                    
                    <a href="/administration/throttling"
                        class="navbar-item ">
                        Throttling
                    </a>
                    
                    <a href="/administration/experiences"
                        class="navbar-item ">
                        Experiences
                    </a>
                    
                    <a href="/administration/manual-compact"
                        class="navbar-item ">
                        Manual Compact
                    </a>
                    
                    <a href="/administration/usage-scenario"
                        class="navbar-item ">
                        Usage Scenario
                    </a>
                    
                    <a href="/administration/bad-disk"
                        class="navbar-item ">
                        Bad Disk Repair
                    </a>
                    
                    <a href="/administration/whitelist"
                        class="navbar-item ">
                        Replica Server Whitelist
                    </a>
                    
                    <a href="/administration/backup-request"
                        class="navbar-item ">
                        Backup Request
                    </a>
                    
                    <a href="/administration/hotspot-detection"
                        class="navbar-item ">
                        Hotspot Detection
                    </a>
                    
                </div>
            </div>
            
        </div>
    </div>
</nav>

<nav class="navbar is-hidden-mobile">
    <div class="navbar-start w-full">
        <div class="navbar-item pl-0 w-full">
            <!--TODO(wutao): Given the limitation of docsearch that couldn't handle multiple input,
                I make searchbox only shown in desktop. Fix this issue when docsearch.js v3 released.
                Related issue: https://github.com/algolia/docsearch/issues/230-->
            <div id="docsearch"></div>
        </div>
    </div>
    <div class="navbar-end">
        <div class="navbar-item">
            

<!--A simple language switch button that only supports zh and en.-->
<!--IF its language is zh, then switches to en.-->

<a class="button is-light is-outlined is-inverted" href="/zh/administration/partition-split"><strong>中</strong></a>

        </div>
    </div>
</nav>

            <section class="hero is-info lg:mr-3">
                <div class="hero-body">
                    
                    <p class="title is-size-2 is-centered">Partition-Split</p>
                </div>
            </section>
            <section class="section" style="padding-top: 2rem;">
                <div class="content">
                    <h1 id="feature-overview">Feature Overview</h1>
<p>In Pegasus, the number of partitions in a table is specified at creation time and does not change dynamically. However, as the amount of data grows, some partitions may become too large, which can lead to degraded read and write performance. Therefore, it is necessary to manually increase the number of partitions to ensure service quality.</p>

<p>In Pegasus’s design, the number of partitions is always a power of two. Currently, the split functionality doubles the number of partitions. Each partition(i) is split into partition(i) and partition(i + original_count).
For example, if the original table has 4 partitions, after the split it will have 8 partitions:</p>
<ul>
  <li>partition(0) will be split into partition(0) and partition(4)</li>
  <li>partition(1) into partition(1) and partition(5)</li>
  <li>and so on.</li>
</ul>

<p>We refer to partition(i) as the parent partition, and partition(i + original_count) as the child partition.</p>

<h1 id="command-description">Command Description</h1>
<p><code class="language-plaintext highlighter-rouge">partition_split &lt;app_name&gt; &lt;new_partition_count&gt;</code></p>
<ul>
  <li>If the table is unavailable, return ERR_APP_NOT_EXIST</li>
  <li>If new_partition_count != old_partition_count * 2, return ERR_INVALID_PARAMETERS</li>
  <li>If the table is currently undergoing a split, return ERR_BUSY</li>
  <li>If the split is successful, return ERR_OK</li>
</ul>

<h2 id="note">Note</h2>
<ul>
  <li>In versions 2.4 and 2.5, the split process may hang. It is recommended to upgrade to the latest version before performing a split.</li>
</ul>

<h1 id="design-and-implementation">Design and Implementation</h1>

<h2 id="overall-process">Overall Process</h2>
<p>The partition split process can be divided into the following steps:</p>
<ol>
  <li>The client sends a partition split request to the meta server.</li>
  <li>The replica server detects the change in the number of table partitions through <code class="language-plaintext highlighter-rouge">config_sync</code> with the meta server.</li>
  <li>Each parent partition asynchronously replicates all its data to create a corresponding child partition</li>
  <li>Once all child partitions in a group are ready, the primary sends a request to the meta server to register the child partitions.</li>
  <li>The meta server registers the child partitions.</li>
  <li>After all child partitions have been registered, the split process is complete.</li>
  <li>Invalid data is cleaned up. See <a href="#how-to-delete-invalid-data">How to Delete Invalid Data</a> for details.</li>
</ol>

<h2 id="reads-and-writes-during-the-partition-split-process">Reads and Writes During the Partition Split Process</h2>
<p>During the partition split process, read and write operations can generally proceed as normal. But there is a brief period of service unavailability during the registration of child partitions.</p>

<p>To illustrate, suppose the app initially has 4 partitions, which will be split into 8. Assume the data a client wants to access is originally served by partition(1), and after the split, it will be served by partition(5). From the beginning of the split process until the asynchronous learn phase is completed, partition(1) continues to serve the client. However, once the primary sends a request to the meta server to register the child partitions, partition(1) will reject client read/write requests until the registration is complete. After registration, the client is still unaware that the serving partition has changed to partition(5) and will continue to send requests to partition(1). At this point, partition(1) will notify the client to update its routing table. This update is transparent to the user. Overall, the period of unavailability is very short.</p>

<h2 id="why-it-is-necessary-to-specify-the-number-of-partitions">Why It Is Necessary to Specify the Number of Partitions</h2>
<p>Since the partition split operation cannot be canceled and there is no functionality to decrease the number of partitions, performing a split must be done with caution. Although each split operation currently only doubles the number of partitions, it is still necessary to explicitly specify the target partition count. This is to prevent the client from unintentionally retrying this non-idempotent operation multiple times, which could lead to the partition count increasing beyond what was intended.</p>

<h2 id="how-to-delete-invalid-data">How to Delete Invalid Data</h2>
<p>Before performing a partition split, ensure that more than 50% of disk space is available and that there is sufficient free memory. This is because the split operation involves copying data for each partition.
After the split is completed, Pegasus will use RocksDB’s background filter mechanism to delete the invalid data generated during the split process.If disk resources are tight, or if you want to remove invalid data more quickly, you can use the manual_compact feature to manually trigger the filter when the cluster’s CPU is idle. For command details, refer to <a href="#usage-example">Usage Example</a>.</p>

<h2 id="partition-split-and-hotspot-issues">Partition Split and Hotspot Issues</h2>

<p>The partition split feature is primarily designed to ensure service quality in cases of unexpected data growth. However, it cannot fully resolve the issue of a single partition becoming a hotspot. Pegasus uses a hash-based sharding model. After a split, traffic is not guaranteed to be evenly distributed between the parent and child partitions — the distribution depends on the user’s hashkey. Therefore, while partition split can help alleviate hotspot issues, it is not a complete solution. Additionally, partition split is currently a table-level operation. Splitting individual partitions is not supported at this time.</p>

<h1 id="usage-example">Usage Example</h1>
<h2 id="executing-a-partition-split">Executing a Partition Split</h2>
<p>Before performing a split, it is recommended to use the <code class="language-plaintext highlighter-rouge">app_stat</code> command to check the size of the table to be split. Then, execute the following command:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; partition_split split_table 8
split app split_table succeed
</code></pre></div></div>
<p>Use the shell tool to perform a partition split, changing the split_table partition count from 4 to 8</p>

<h2 id="during-the-partition-split-process">During the Partition Split Process</h2>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; app split_table -d
[Parameters]
app_name: split_table
detailed: true

[Result]
app_name          : split_table
app_id            : 2
partition_count   : 8
max_replica_count : 3
details           :
pidx      ballot    replica_count       primary                                 secondaries                             
0         3         3/3                 10.239.35.234:34802                     [10.239.35.234:34803,10.239.35.234:34801]
1         3         3/3                 10.239.35.234:34803                     [10.239.35.234:34801,10.239.35.234:34802]
2         3         3/3                 10.239.35.234:34801                     [10.239.35.234:34803,10.239.35.234:34802]
3         3         3/3                 10.239.35.234:34802                     [10.239.35.234:34801,10.239.35.234:34803]
4         -1        0/0                 -                                       []
5         -1        0/0                 -                                       []
6         -1        0/0                 -                                       []
7         -1        0/0                 -                                       []

node                                    primary   secondary total     
10.239.35.234:34801                     1         3         4         
10.239.35.234:34802                     2         2         4         
10.239.35.234:34803                     1         3         4         
                                        4         8         12        

fully_healthy_partition_count   : 4
unhealthy_partition_count       : 4
write_unhealthy_partition_count : 4
read_unhealthy_partition_count  : 4

list app split_table succeed
</code></pre></div></div>
<p>Use the command <code class="language-plaintext highlighter-rouge">app &lt;table_name&gt; -d</code> to view detailed information about the current table. If a partition shows ballot = -1, it indicates that the partition has not yet been registered by the meta server.</p>

<h2 id="partition-split-completed">Partition Split Completed</h2>
<p>You can again use the command <code class="language-plaintext highlighter-rouge">app &lt;table_name&gt; -d</code> to check the table details. When you see that all ballot values are greater than 0, it means that all partitions have been successfully registered. If the current traffic is low, you may set the meta server to lively mode to enable load balancing.Also, use the <code class="language-plaintext highlighter-rouge">app_stat</code> command to check the size of the table — it should now be approximately twice the size compared to before the split.</p>

<h2 id="manually-triggering-manual-compact">Manually Triggering Manual Compact</h2>
<p>For more details on manual compaction, refer to <a href="manual-compact">Manual Compact</a>. It’s recommended to perform this operation when the cluster’s CPU is idle. Suggested command example:<br />
<code class="language-plaintext highlighter-rouge">./scripts/pegasus_manual_compact.sh -c &lt;meta_list&gt; -a &lt;table_name&gt; --bottommost_level_compaction force</code><br />
 Note: Be sure to include the –bottommost_level_compaction option. This ensures that all redundant data will be thoroughly cleaned up.</p>


                </div>
            </section>
            <footer class="footer">
    <div class="container">
        <div class="content is-small has-text-centered">
            <div style="margin-bottom: 20px;">
                <a href="http://incubator.apache.org">
                    <img src="/assets/images/egg-logo.png"
                         width="15%"
                         alt="Apache Incubator"/>
                </a>
            </div>
            Copyright &copy; 2023 <a href="http://www.apache.org">The Apache Software Foundation</a>.
            Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version
            2.0</a>.
            <br><br>
            
            Apache Pegasus is an effort undergoing incubation at The Apache Software Foundation (ASF),
            sponsored by the Apache Incubator. Incubation is required of all newly accepted projects
            until a further review indicates that the infrastructure, communications, and decision making process
            have stabilized in a manner consistent with other successful ASF projects. While incubation status is
            not necessarily a reflection of the completeness or stability of the code, it does indicate that the
            project has yet to be fully endorsed by the ASF.
            
            <br><br>
            Apache Pegasus, Pegasus, Apache, the Apache feather logo, and the Apache Pegasus project logo are either
            registered trademarks or trademarks of The Apache Software Foundation in the United States and other
            countries.
        </div>
    </div>
</footer>
        </div>

        <!-- right panel -->
        <div class="dashboard-panel is-small is-scrollable is-hidden-mobile">
            <p class="menu-label">
    <span class="icon">
        <i class="fa fa-bars" aria-hidden="true"></i>
    </span>
    Table of contents
</p>
<ul class="menu-list">
  <li><a href="#feature-overview">Feature Overview</a></li>
  <li><a href="#command-description">Command Description</a>
    <ul>
      <li><a href="#note">Note</a></li>
    </ul>
  </li>
  <li><a href="#design-and-implementation">Design and Implementation</a>
    <ul>
      <li><a href="#overall-process">Overall Process</a></li>
      <li><a href="#reads-and-writes-during-the-partition-split-process">Reads and Writes During the Partition Split Process</a></li>
      <li><a href="#why-it-is-necessary-to-specify-the-number-of-partitions">Why It Is Necessary to Specify the Number of Partitions</a></li>
      <li><a href="#how-to-delete-invalid-data">How to Delete Invalid Data</a></li>
      <li><a href="#partition-split-and-hotspot-issues">Partition Split and Hotspot Issues</a></li>
    </ul>
  </li>
  <li><a href="#usage-example">Usage Example</a>
    <ul>
      <li><a href="#executing-a-partition-split">Executing a Partition Split</a></li>
      <li><a href="#during-the-partition-split-process">During the Partition Split Process</a></li>
      <li><a href="#partition-split-completed">Partition Split Completed</a></li>
      <li><a href="#manually-triggering-manual-compact">Manually Triggering Manual Compact</a></li>
    </ul>
  </li>
</ul>

        </div>
    </div>

    <script src="/assets/js/app.js" type="text/javascript"></script>
     <script>
     docsearch({
         container: '#docsearch',
         appId: 'QRN30RBW0S',
         indexName: 'pegasus-apache',
         apiKey: 'd3a3252fa344359766707a106c4ed88f',
         debug: true
     });
 </script>

</body>

</html>